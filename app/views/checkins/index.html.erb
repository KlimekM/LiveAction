<% if @place %>
<h1>Check-ins for <%= @place.name %></h1>

<div>
  <h3><%= @place.name %></h3>
  <p>Description: <%= @place.description %></p>
  <p>Address: <%= @place.address %></p>
  <p>Capacity: <%= @place.capacity %></p>
</div>

<% @checkins.each do |checkin| %>
  <div>
    <% if current_user.id && current_user.likes.find_by(liker_id: current_user.id, likeable_id: checkin.id) %>
      <% @like = Like.find_by(:liker_id => current_user.id, :likeable_id => checkin.id) %>
      <%= button_to "Unlike this check-in", like_path(@like), method: "delete", params: {user_id: current_user.id, checkin_id: checkin.id } %>
    <% else %>
      <%= button_to "Like this check-in", likes_path, params: { checkin_id: checkin.id } %>
    <% end %>
    <h3><%= checkin.user.username %> checked in on <%= checkin.date_attended %></h3>
    <h3>Description: <%= checkin.description %></h3>
  </div>
<% end %>
<% else %>
  <%= flash[:notice] %>
<% end %>